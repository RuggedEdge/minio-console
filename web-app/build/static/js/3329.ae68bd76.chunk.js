"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[3329],{53329:(e,n,t)=>{t.r(n),t.d(n,{default:()=>u});var a=t(65043),s=t(89923),r=t(73216),l=t(99161),c=t(21383),i=t(77403),o=t(38375),x=t(56629),d=t(64159),p=t(53518),h=t(70579);const j=()=>{const e=(0,c.jL)(),n=(0,r.Zp)(),[t,j]=(0,a.useState)(""),[m,u]=(0,a.useState)(!1),y=""!==t.trim()&&-1===t.indexOf(" ");return(0,h.jsx)(s.Mxu,{children:(0,h.jsx)(s.Hbc,{title:"Create Key",icon:(0,h.jsx)(s.No_,{}),helpBox:(0,h.jsx)(o.A,{helpText:"Encryption Key",contents:["Create a new cryptographic key in the Key Management Service server connected to MINIO."]}),children:(0,h.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:a=>{a.preventDefault(),u(!0),x.F.kms.kmsCreateKey({key:t}).then((e=>{n(`${l.zZ.KMS_KEYS}`)})).catch((async n=>{const t=await n.json();e((0,d.C9)((0,p.S)(t)))})).finally((()=>u(!1)))},children:(0,h.jsxs)(s.xA9,{container:!0,children:[(0,h.jsx)(s.xA9,{item:!0,xs:12,children:(0,h.jsx)(s.cl_,{id:"key-name",name:"key-name",label:"Key Name",autoFocus:!0,value:t,error:(e=>-1!==e.indexOf(" ")?"Key name cannot contain spaces":"")(t),onChange:e=>{j(e.target.value)}})}),(0,h.jsxs)(s.xA9,{item:!0,xs:12,sx:i.Uz.modalButtonBar,children:[(0,h.jsx)(s.$nd,{id:"clear",type:"button",variant:"regular",onClick:()=>{j("")},label:"Clear"}),(0,h.jsx)(s.$nd,{id:"save-key",type:"submit",variant:"callAction",color:"primary",disabled:m||!y,label:"Save"})]})]})})})})};var m=t(61595);const u=()=>{const e=(0,c.jL)(),n=(0,r.Zp)();return(0,a.useEffect)((()=>{e((0,d.ph)("add_key"))}),[]),(0,h.jsx)(a.Fragment,{children:(0,h.jsxs)(s.xA9,{item:!0,xs:12,children:[(0,h.jsx)(m.A,{label:(0,h.jsx)(s.EGL,{label:"Keys",onClick:()=>n(l.zZ.KMS_KEYS)})}),(0,h.jsx)(j,{})]})})}},38375:(e,n,t)=>{t.d(n,{A:()=>l});var a=t(65043),s=t(89923),r=t(70579);const l=e=>{let{helpText:n,contents:t}=e;return(0,r.jsx)(s.lVp,{iconComponent:(0,r.jsx)(s.nag,{}),title:n,help:(0,r.jsx)(a.Fragment,{children:t.map((e=>(0,r.jsx)(s.azJ,{sx:{paddingBottom:"20px"},children:e})))})})}}}]);
//# sourceMappingURL=3329.ae68bd76.chunk.js.map